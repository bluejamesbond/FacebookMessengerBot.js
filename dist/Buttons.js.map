{"version":3,"sources":["../src/Buttons.js"],"names":["Buttons","_buttons","text","data","url","event","Error","push","buttons","button","type","title","payload","length","array","forEach","add","arg"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;IAAMA,O;AACJ,qBAAc;AAAA;;AACZ,SAAKC,QAAL,GAAgB,EAAhB;AACD;;;;8BAE6B;AAAA,UAAzBC,IAAyB,QAAzBA,IAAyB;AAAA,UAAnBC,IAAmB,QAAnBA,IAAmB;AAAA,UAAbC,GAAa,QAAbA,GAAa;AAAA,UAARC,KAAQ,QAARA,KAAQ;;AAC5B,UAAI,CAACF,IAAD,IAAS,CAACC,GAAV,IAAiB,CAACC,KAAtB,EAA6B;AAC3B,cAAMC,MAAM,iFAAN,CAAN;AACD;;AAED,WAAKL,QAAL,CAAcM,IAAd,CAAmB,EAACL,MAAMA,QAAQ,QAAf,EAAyBG,YAAzB,EAAgCF,UAAhC,EAAsCC,QAAtC,EAAnB;AACA,aAAO,IAAP;AACD;;;6BAEQ;AACP,UAAMI,UAAU,EAAhB;AADO;AAAA;AAAA;;AAAA;AAEP,wDAAqB,KAAKP,QAA1B,4GAAoC;AAAA,cAAzBQ,MAAyB;;AAClC,cAAIA,OAAOL,GAAX,EAAgB;AACdI,oBAAQD,IAAR,CAAa,EAACG,MAAM,SAAP,EAAkBN,KAAKK,OAAOL,GAA9B,EAAmCO,OAAOF,OAAOP,IAAjD,EAAb;AACD,WAFD,MAEO,IAAIO,OAAON,IAAX,EAAiB;AACtB,gBAAMS,UAAU,yBAAe,EAACT,MAAMM,OAAON,IAAd,EAAoBE,OAAOI,OAAOJ,KAAlC,EAAf,CAAhB;AACAG,oBAAQD,IAAR,CAAa,EAACG,MAAM,UAAP,EAAmBE,gBAAnB,EAA4BD,OAAOF,OAAOP,IAA1C,EAAb;AACD;AACF;AATM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAWP,aAAOM,OAAP;AACD;;;wBAQY;AACX,aAAO,KAAKP,QAAL,CAAcY,MAArB;AACD;;;yBARWC,K,EAAO;AACjB,UAAMN,UAAU,IAAIR,OAAJ,EAAhB;AACAc,YAAMC,OAAN,CAAc;AAAA,eAAOP,QAAQQ,GAAR,CAAYC,GAAZ,CAAP;AAAA,OAAd;AACA,aAAOT,OAAP;AACD;;;;;kBAOYR,O","file":"Buttons.js","sourcesContent":["class Buttons {\n  constructor() {\n    this._buttons = [];\n  }\n\n  add({text, data, url, event}) {\n    if (!data && !url && !event) {\n      throw Error('Must provide a url or data i.e. {data: null} or {url: \\'https://facebook.com\\'}');\n    }\n\n    this._buttons.push({text: text || 'Button', event, data, url});\n    return this;\n  }\n\n  toJSON() {\n    const buttons = [];\n    for (const button of this._buttons) {\n      if (button.url) {\n        buttons.push({type: 'web_url', url: button.url, title: button.text});\n      } else if (button.data) {\n        const payload = JSON.stringify({data: button.data, event: button.event});\n        buttons.push({type: 'postback', payload, title: button.text});\n      }\n    }\n\n    return buttons;\n  }\n\n  static from(array) {\n    const buttons = new Buttons();\n    array.forEach(arg => buttons.add(arg));\n    return buttons;\n  }\n\n  get length() {\n    return this._buttons.length;\n  }\n}\n\nexport default Buttons;\n"]}