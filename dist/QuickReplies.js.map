{"version":3,"sources":["../src/QuickReplies.js"],"names":["QuickReplies","_quickReplies","text","data","event","Error","push","quickReplies","reply","payload","title","String","content_type","length","array","quickreplies","forEach","add","arg"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;;;;IAEMA,Y;AACJ,0BAAc;AAAA;;AACZ,SAAKC,aAAL,GAAqB,EAArB;AACD;;;;8BAEwB;AAAA,UAApBC,IAAoB,QAApBA,IAAoB;AAAA,UAAdC,IAAc,QAAdA,IAAc;AAAA,UAARC,KAAQ,QAARA,KAAQ;;AACvB,UAAI,CAACD,IAAD,IAAS,CAACC,KAAd,EAAqB;AACnB,cAAMC,MAAM,iFAAN,CAAN;AACD;;AAED,WAAKJ,aAAL,CAAmBK,IAAnB,CAAwB,EAACJ,MAAMA,QAAQ,YAAf,EAA6BE,YAA7B,EAAoCD,UAApC,EAAxB;AACA,aAAO,IAAP;AACD;;;6BAEQ;AACP,UAAMI,eAAe,EAArB;AADO;AAAA;AAAA;;AAAA;AAEP,wDAAoB,KAAKN,aAAzB,4GAAwC;AAAA,cAA7BO,KAA6B;;AACtC,cAAMC,UAAU,yBAAe,EAACN,MAAMK,MAAML,IAAb,EAAmBC,OAAOI,MAAMJ,KAAhC,EAAf,CAAhB;AACA,cAAI,CAACI,MAAMN,IAAX,EAAiB;AACf,kBAAM,IAAIG,KAAJ,CAAU,mBAAV,CAAN;AACD;;AAEDE,uBAAaD,IAAb,CAAkB,EAACG,gBAAD,EAAUC,OAAO,gBAAIC,OAAOH,MAAMN,IAAb,CAAJ,EAAwB,EAAxB,CAAjB,EAA8CU,cAAc,MAA5D,EAAlB;AACD;AATM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAWP,aAAOL,YAAP;AACD;;;wBAQY;AACX,aAAO,KAAKN,aAAL,CAAmBY,MAA1B;AACD;;;yBARWC,K,EAAO;AACjB,UAAMC,eAAe,IAAIf,YAAJ,EAArB;AACAc,YAAME,OAAN,CAAc;AAAA,eAAOD,aAAaE,GAAb,CAAiBC,GAAjB,CAAP;AAAA,OAAd;AACA,aAAOH,YAAP;AACD;;;;;kBAOYf,Y","file":"QuickReplies.js","sourcesContent":["import {cut} from './libs/utils';\n\nclass QuickReplies {\n  constructor() {\n    this._quickReplies = [];\n  }\n\n  add({text, data, event}) {\n    if (!data && !event) {\n      throw Error('Must provide a url or data i.e. {data: null} or {url: \\'https://facebook.com\\'}');\n    }\n\n    this._quickReplies.push({text: text || 'QuickReply', event, data});\n    return this;\n  }\n\n  toJSON() {\n    const quickReplies = [];\n    for (const reply of this._quickReplies) {\n      const payload = JSON.stringify({data: reply.data, event: reply.event});\n      if (!reply.text) {\n        throw new Error('No text attribute');\n      }\n\n      quickReplies.push({payload, title: cut(String(reply.text), 20), content_type: 'text'});\n    }\n\n    return quickReplies;\n  }\n\n  static from(array) {\n    const quickreplies = new QuickReplies();\n    array.forEach(arg => quickreplies.add(arg));\n    return quickreplies;\n  }\n\n  get length() {\n    return this._quickReplies.length;\n  }\n}\n\nexport default QuickReplies;\n"]}